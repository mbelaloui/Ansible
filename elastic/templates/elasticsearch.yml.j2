{{ ansible_managed | comment }}
# ---------------------------------- Cluster -----------------------------------

cluster.name: {{ cluster_name }}

# ------------------------------------ Node ------------------------------------

node.name: {{ inventory_hostname }}
node.master: {{ node_master }}
node.data: {{ node_data }}
node.ingest: {{ node_ingest }}
node.ml: {{ node_ml }}

# ----------------------------------- Paths ------------------------------------

path.data: {{ path_data }}
path.logs: {{ path_log }}

# ----------------------------------- Memory -----------------------------------

bootstrap.memory_lock: {{ bootstrap_memory_lock }}
# ---------------------------------- Network -----------------------------------

network.host: {{ ansible_host }}
http.port: {{ http_port }}

# --------------------------------- Discovery ----------------------------------

discovery.seed_hosts: 
{% for host in groups['es_master'] %}
- "{{ hostvars[host].ansible_host }}"
{% endfor %}

{% if inventory_hostname in groups['es_master'] %}
cluster.initial_master_nodes:
{% for host in groups['es_master'] %}
- "{{ hostvars[host].ansible_host }}"
{% endfor %}
{% endif %}

{% if type_env == 'dev'%}
{% if inventory_hostname in groups['es_master'] %}
##to dell
discovery.zen.minimum_master_nodes: 1
{% endif %}
{% endif %}

# -------------------------------- Monitoring ----------------------------------

xpack.monitoring.enabled: true
xpack.monitoring.collection.enabled: true

#xpack.ml.enabled: true default
#cluster.remote.connect: false  default
# --------------------------------- Security -----------------------------------























